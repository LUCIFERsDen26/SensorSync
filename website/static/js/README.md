# custom.js:Data Visualization for ESP8266 Data

-  This JavaScript file (custom.js) handles data fetching, chart creation, and updates for a website visualizing data generated by an ESP8266 device and stored in a MySQL database.

- It leverages the Chart.js library for interactive visualizations.

### Key Functionalities:

- Fetches Data from Backend API:
    - Utilizes fetch API for asynchronous data retrieval from backend routes (presumably defined in app.py).
    - Extracts relevant data from the JSON response (data points, labels, etc.).
- Creates and Updates Charts:
    - Employs Chart.js to generate line charts for:
        - QIndex (Air Quality Index) per state (interactive)
        - Sensor Value
        - Waveform Data
    - Provides a user interface to select a state for QIndex visualization.
    - Updates charts dynamically when new data is available (mechanism not implemented in this file).

### Code Structure:
- API Headers:
    - Defines headers for consistent content type (application/json) in API requests.

- updateGraphQIndex Function:
    - Fetches QIndex data for a selected state using the /api/StateData/:state endpoint.
    - Parses JSON response, extracts labels (month names) and QIndex values.
    - Creates a Chart.js line chart configuration with labels, data, and styling options.
    - Retrieves the linechart element from the DOM and uses chartQI (a global variable) to:
        - Destroy any existing chart before creating a new one (prevents memory leaks).
        - Create a new Chart.js line chart instance for QIndex visualization.

- State Count Chart (Initial Load):
    - Fetches data for state count from the /api/StateCount endpoint.
    - Parses JSON response, extracts state names (labels) and count values (data).
    - Creates a Chart.js bar chart configuration with labels, data, and styling options.
    - Creates a new Chart.js bar chart instance for state count visualization using the barchart DOM element.

- Data Structures for Charts:
    - Defines global objects to store data points (x-axis and y-axis values) for:
    - QIndex (chartData for initial load, might be populated differently for dynamic updates)
    - Sensor Value (graphData)
    - Waveform Data (waveData)

- updateGraph Function (Placeholder for Dynamic Updates):
    -  updating the sensor and waveform charts dynamically.

### Explanation:

- The code currently focuses on fetching data for initial load and displaying charts.
- The updateGraph function serves as a placeholder for how real-time updates might be implemented (not included in this file).
- This custom.js file assumes the presence of backend API endpoints (e.g., /api/StateData/:state) that could be used for dynamic updates, but the update mechanism itself is not implemented here.
